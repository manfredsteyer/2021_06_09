<div class="card">

    <div class="header">
        <h2 class="title">Flight Search</h2>
    </div>
    <div class="content">

        <form #f="ngForm">

            <!-- auch: maxlength, min, max, requireTrue, pattern, email -->

            <div class="form-group">
                <label>From:</label>
                <input name="from" required minlength="3" class="form-control" [(ngModel)]="from">

                <app-show-errors [errors]="f?.controls['from']?.errors"></app-show-errors>

                <!-- <div *ngIf="!f?.controls['from']?.valid">
                    Fehler
                    <pre>{{ f.controls['from'].errors | json }}</pre>
                </div>

                <div *ngIf="f?.controls['from']?.hasError('required')">
                    required!
                </div>

                <div *ngIf="f?.controls['from']?.hasError('minlength')">
                    minlength!
                </div> -->


            </div>
            <div class="form-group">
                <label>To:</label>
                <input name="to" class="form-control" [(ngModel)]="to">
            </div>

            <div class="form-group">
                <button (click)="search()" [disabled]="!from || !to" class="btn btn-default">Search</button>


            </div>
        </form>

    </div>
</div>


<div class="row">
    <div *ngFor="let f of flights" class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
        <app-flight-card [item]="f" [(selected)]="basket[f.id]">

            <!-- <b class="header">Das ist ein Test im Header</b> -->
            <!-- <b class="footer">Das ist ein Test im Footer</b> -->

        </app-flight-card>
    </div>
</div>

<!-- <div class="card">
    
        <input type="checkbox" [(ngModel)]="delayFilter"> Show Delayed

        <table class="table table-contensed" *ngIf="flights.length > 0">
            <thead>
            <tr>
                <th>Id</th>
                <th>From</th>
                <th>To</th>
                <th>Date</th>
                <th></th>
            </tr>
            </thead>
            <tr *ngFor="let f of flights | statusFilter:delayFilter" [class.active]="f === this.selectedFlight" (click)="select(f)">
                <td>{{f.id}}</td>
                <td>{{f.date | asyncCity:'short' | async }}</td>
                <td>{{f.to | asyncCity:'long' | async }}</td>
                <td [ngStyle]="{color: f.delayed | statusColor }">{{f.date | date:'dd.MM.yyyy HH:mm'}}</td>
                <td>{{f.delayed}}</td>
                <td>
                    <a (click)="select(f)">Select</a> 
                </td>
                
            </tr>
        </table>
    
    </div> -->


<div class="card">
    <div class="content">
        <pre>{{ basket | json}}</pre>
    </div>
</div>